---
import '../styles/index.css'
import BaseLayout from '../layouts/base-layout.astro';
---

<BaseLayout title="Debrah's Digital Solutions">
  <div class="page-wrapper">

    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-text">
        <h1>
          Tech Help at Your Doorstep - 
          <span class="highlight">Fast, Friendly, Local.</span>
        </h1>
        <p>Computer repair, training, on-site support, and smart tech solutions for homes and businesses in Fairview, Alberta.</p>

        <div class="hero-buttons">
          <a href="/contact" class="btn">Connect with Us</a>
        </div>
      </div>
      <div class="hero-image">
        <div id="logo-spinner">
          <img id="logo" class="ai-head" src="/logo.webp" alt="Debrah's Digital Solutions Logo" width="250" height="250" />
        </div>
      </div>
    </section>

    <!-- Services Icons Grid -->
    <section class="services-section">
      <h2>Our Services</h2>
      <p class="subtitle">Expert Tech Help with a Human Touch</p>

      <div class="services-grid">
        <a href="/services/computer-repair"><div class="service-item"><img src="/icon-repair.webp" alt="Computer Repair Services" height="48" /><p>Computer Repair Services</p></div></a>
        <a href="/services/training"><div class="service-item"><img src="/icon-training.webp" alt="Digital Skills Training" height="48" /><p>Digital Skills Training</p></div></a>
        <a href="/services/onsite-support"><div class="service-item"><img src="/icon-onsite.webp" alt="On-Site Support" height="48" /><p>On-Site Support</p></div></a>
        <a href="/services/network"><div class="service-item"><img src="/icon-network.webp" alt="Network Optimization" height="48" /><p>Network Optimization</p></div></a>
        <a href="/services/website-development"><div class="service-item"><img src="/icon-web.webp" alt="Website Development" height="48" /><p>Website Development</p></div></a>
        <a href="/services/consulting"><div class="service-item"><img src="/icon-consulting.webp" alt="Business Tech Consulting" height="48" /><p>Business Tech Consulting</p></div></a>
        <a href="/services/ai-automation"><div class="service-item"><img src="/icon-ai.webp" alt="AI Tools & Automation" height="48" /><p>AI Tools & Automation</p></div></a>
        <a href="/services/custom-software"><div class="service-item"><img src="/icon-software.webp" alt="Custom Software Solutions" height="48" /><p>Custom Software Solutions</p></div></a>
      </div>
    </section>

    <!-- Info Grid Section -->
    <section class="info-section">
      <div class="info-grid">

        <div class="info-card">
          <h3>Client-Focused Solutions</h3>
          <p>
            Need help with a computer, website, or system upgrade?<br /><br />
            I provide on-site visits, remote assistance, and tailored solutions built to match your needs.
          </p>
          <ul class="checklist">
            <li>Fast Response</li>
            <li>Clear Communication</li>
            <li>Affordable, Professional</li>
          </ul>
          <a href="/services" class="btn info-btn">Learn More About Our Services</a>
        </div>

        <div class="info-card">
          <h3>About Debrah</h3>
          <h4>Debrah Wyatt, E.I.T.</h4>
          <p>
            Software Developer & Tech Consultant<br />
            <br />
            Specialization in Artificial Intelligence<br />        
            Bachelor of Software Engineering, UVic<br />
            20+ years experience in tech & automation
          </p>
          <br />
          <em>“Tech made simple, right at your doorstep.”</em><br />
          <a href="/about" class="btn info-btn">More About Us</a>
        </div>

        <div class="info-card full-width">
          <h3>Contact or Book Now</h3>
          <p>Ready to simplify your tech? Let's talk.</p>
          <a href="/contact" class="btn info-btn">Contact or Book Now</a>
        </div>

      </div>
    </section>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const logo = document.getElementById("logo") as HTMLElement | null;
      if (!logo) return;

      let rotation = 0;
      let speed = 0;
      let lastTime = performance.now();
      let isAnimating = false;

      const decayRate = 0.000074; // tuned for ~1080° spin at speed 0.4
      const maxSpeed = 1;

      const animate = (time: number) => {
        const delta = time - lastTime;
        lastTime = time;

        if (Math.abs(speed) > 0.001) {
          rotation += speed * delta;

          const decayStep = decayRate * delta;
          speed -= Math.sign(speed) * Math.min(Math.abs(speed), decayStep);

          logo.style.transform = `rotateY(${rotation}deg)`;
          requestAnimationFrame(animate);
        } else {
          speed = 0;
          isAnimating = false;
        }
      };

      logo.addEventListener("click", () => {
        speed += 0.4;
        speed = Math.min(speed, maxSpeed);

        if (!isAnimating) {
          isAnimating = true;
          lastTime = performance.now();
          requestAnimationFrame(animate);
        }
      });
    });
  </script>

</BaseLayout>
